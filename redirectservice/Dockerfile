FROM openjdk:17-jdk-slim

RUN mkdir /opt/app
WORKDIR /app
COPY ./target/redirectservice*.jar /opt/app/app.jar

ENV CONNECT_TIMEOUT=5000
ENV READ_TIMEOUT=5000

#ENV JAVA_TOOL_OPTIONS "-DSERVER_PORT=$SERVER_PORT -DLINK_SERVICE_URL=$LINK_SERVICE_URL -DCONNECT_TIMEOUT=$CONNECT_TIMEOUT -DREAD_TIMEOUT=$READ_TIMEOUT"

ENTRYPOINT ["java", "-DSERVER_PORT=$SERVER_PORT -DLINK_SERVICE_URL=$LINK_SERVICE_URL -DCONNECT_TIMEOUT=$CONNECT_TIMEOUT -DREAD_TIMEOUT=$READ_TIMEOUT", "-jar", "/opt/app/app.jar" ]

EXPOSE 8080
